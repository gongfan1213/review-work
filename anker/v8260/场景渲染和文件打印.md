# 综述
- 包括3d渲染，3d贴图渲染，材质渲染，2d场景渲染等功能，实时吧用户创作的作品显示在3d模型当中和场景图当中对应的位置当中，相应的时间是500ms

## 流程图
- 进入项目编辑->加载底图->加载3d模型/场景图列表->对画布元素进行增删改查->获取画布元素图层->画布元素图层跟底图的布尔运算->根据分辨率区间生成效果图片->3d模型贴图纹理渲染,第二种情况是获取画布场景的位置信息，根据场景图的位置信息合成场景图的渲染

# 打印文件
- 根据用户编辑的项目作品，当用户点击print按钮的时候，生产设备需要打印的项目打印文件，打印文件发起的打印成功率>99%

## 流程图
- 点击print，是否内嵌并且历险的，如果是的话得到缓存本地的画布信息，如果不是的话网络获取所有的画布信息，之后是否成功，每一个画布分别生成tar，之后之后就是查询选中的模式，白墨在第几层，有多少层，生成白墨图，彩图在第几层，有多少层，生成彩图，光油在第几层有多少层，生成光油，生成这三个图像之后，生成config。j son
- 生成config.json这个文件，之后生成缩略图文件，之后把所有的文档打成tar包，之后是否pc内嵌，如果是的话，是否离线，不是的话，上传到后台，jsbridge打印文件和打印数据，或者离线打包之后是jsbridge打印文件和打印数据
- 如果不是pc内嵌的话，就上传到后台-》scheme传播projectid

### 4.1.5.3接口设计
以下是您所提供图中所有文字的完整整理：

---

### 4.1.5.3 接口设计

| 通信渠道      | 功能                                           | 通信协议                                  |
|---------------|------------------------------------------------|-------------------------------------------|
| jsbridge      | jsbridge通信，action是通信事件，data是传递数据，目前是tar包（打印项目文档+打印数据文件） | { "action": "command_print", "data": {} } |
| scheme        | 浏览器跳转到切片软件开始打印                           | ankerstudio://open/?<br>project_id=f24eceffa33e1a09121e0df365a6691f&source=2dPrint&user_id=xxxxxx |

--- 

以下是您提供的config.json内容的完整整理：

---

### config.json:

| 数据字段          | 数据说明                                                 |
|-------------------|--------------------------------------------------------|
| printModel        | 打印模式（根据产品定義配置的打印层结构，包括全不打印、黑色、光油等） |
| printLayerData    | 里面包括打印图层信息，具体第几层打印什么，如：第一层打印什么，及对应的图片名称是什么 |

---


以下是您提供的JSON配置内容的完整整理：

---

### JSON Configuration

```json
{
    "printModel": 0,               // 打印模式
    "printLayerData": [             // 打印图层数据
        {
            "printType": 0,        // 打印模式，白、彩、光 (0, 1, 2)
            "printTypeFileStr": "PicWhiteInk", // 对应文件名
            "layerNum": 0           // 打印层数
        },
        {
            "printType": 1,
            "printTypeFileStr": "PicColorInk",
            "layerNum": 1
        },
        {
            "printType": 2,
            "printTypeFileStr": "PicVarnishInk",
            "layerNum": 0
        }
    ],
    "format_size_w": 82,           // 基材宽度 mm
    "format_size_h": 166,          // 基材长度 mm
    "cavas_map": "https://d3bqgm8i99ykl0.cloudfront.net/ic_phone15_Pro_Max_cavas_c52b414", // 画布背景图URL
    "printQuality": 300             // 打印 dpi 
}
```

---

### 中文解释

1. **printModel**: 表示打印的类型，此处为0，指代一种特定的打印模式。
2. **printLayerData**: 包含打印图层信息的数组，每个图层的打印类型、文件名和层数详细描述。
   - **printType**: 用于标识打印的类型，例如白墨、彩色墨等。
   - **printTypeFileStr**: 对应的文件名，表示该图层使用的具体图像文件。
   - **layerNum**: 表示该打印图层的层级。
3. **format_size_w**: 基材的宽度，以毫米为单位。
4. **format_size_h**: 基材的长度，以毫米为单位。
5. **cavas_map**: 画布背景图的URL。
6. **printQuality**: 表示打印的分辨率，以DPI（每英寸点数）为单位。

这一整理确保了JSON配置的内容完整性和易读性。如需进一步的修改或添加，请告诉我！
