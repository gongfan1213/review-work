测试管理平台（tp-ui）
测试用例-新增智能优化用例和生成自动化用例
1）操作按钮的状态有“默认、加载中、禁用”3种；当一个按钮在加载中，另一个按钮则为禁用状态；当AI生成任务结束，则2个操作入口均回到默认状态；
2） 点击“智能优化用例”按钮，则出现千流AI智能优化用例弹窗。；点击“生成自动化用例”按钮，则出现千流AI生成自动化用例弹窗；同一时间只能显示1个AI生成弹窗（例如：若详情页已显示AI智能优化用例弹窗，点击“生成自动化用例”操作 则关闭AI智能优化用例弹窗，显示AI生成自动化用例弹窗）目前【生成自动化用例】操作入口只有 AF产品 可见，因此其他产品线的用例详情看到的操作入口如下：操作按钮的状态有“默认、加载中”2种；
当AI生成任务结束，操作入口由加载中状态回到默认状态；
3）千流AI-智能优化用例弹窗：
 弹窗默认高度740px，弹窗最大高度850px。默认宽度640px，最大宽度850px，最小宽度450px;
 高度根据流式生成内容自适应弹窗高度，超过最大高度则显示滚动条（页面内容向上滚动，始终显示最下方的流式生成内容）。
 宽度支持用户自定义拖拽调整弹窗宽度；
 弹窗有【标题栏、内容栏、对话框（位置预留，当前不做）】3部分；
 标题栏有“主标题、副标题”2个；且高度固定。
 内容栏有“前置条件、步骤、预期结果、后置条件”4部分。
当用例内容流式生成中：
1、当流式生成内容不超过弹窗最大高度时，自适应弹窗高度（加载中整行、停止生成按钮始终跟随在生成内容下方）
2、当流式生成内容超过弹窗最大高度时，显示滚动条（加载中整行、停止生成按钮固定显示在弹窗最下方，弹窗内容栏向上滚动，
 始终显示最下方的流式生成内容）
支持拖拽移动弹窗位置。（拖拽规则与之前弹窗一致）
状态说明
1、生成中：“采纳”按钮禁用；内容区仅显示；支持点击“停止生成”按钮；
    点击“停止生成”，则中止生成任务，页面由“生成中”效果切换为“生成结束”效果；
2、生成结束：“采纳”按钮高亮；内容区支持编辑！（当用户输入内容超过弹窗高度时，内容区显示滚动条支持向上滚动）
    点击“采纳”，则关闭弹窗并将弹窗内容覆盖到用例详情。
3、此弹窗通过点击“采纳”按钮，可以关闭弹窗；通过点击“关闭icon”，可以关闭弹窗；
4）千流AI-生成自动化用例弹窗
 弹窗高度、宽度、拖动调整位置等操作与【智能优化用例弹窗规则一致】
 弹窗有【标题栏、内容栏、对话框（位置预留，当前不做）】3部分；
 标题栏有“主标题、副标题”2个；且高度固定。
 内容栏有“内容显示框”1部分。
当用例内容流式生成中：
1、当流式生成内容不超过弹窗最大高度时，自适应弹窗高度（加载中整行、停止生成按钮始终跟随在生成内容下方）
2、当流式生成内容超过弹窗最大高度时，显示滚动条（加载中整行、停止生成按钮固定显示在弹窗最下方，弹窗内容栏向上滚动，
 始终显示最下方的流式生成内容）
支持拖拽移动弹窗位置。（拖拽规则与之前弹窗一致）
状态说明：
1、生成中：“复制”按钮禁用；内容区仅显示；支持点击“停止生成”按钮；
         点击“停止生成”，则中止生成任务，页面由“生成中”效果切换为“生成结束”效果；
2、生成结束：“复制” 按钮高亮；内容区仅显示。点击“复制”，则显示“复制成功”；
3、生成的自动化代码不支持换行，超过弹窗宽度则内容区显示横向滚动条；
4、此弹窗通过点击“关闭icon”可以关闭弹窗；

需求分析，测试设计，测试分析
核心目标：提升测试设计质量
 1.引入测试设计分析方法。 从需求到归档用例会经过“需求分析→测试分析→测试设计→用例设计”4个环节；
 --------
 设计目标：如何让用户感知到测试设计的分析过程，从而加深用户对测试设计生成的理解

 2.增加需求分析环节，产出需求矩阵。 之前测试分析的各环节对用户不可见，因此当出现测试质量不达预期（比如躁点多，广度不够等），用户只能去调整需求内容已增加需求的覆盖广度和深度。这种方式对用户来讲操作成本太大，且调整后不一定能达到预期。因此计划在测试设计平台将需求分析环节放出给到用户可视。以便于用户确认需求分析出的需求矩阵是否有效，有误则支持调整或标注无效！
 --------
 设计目标：衔接测试分析方案，让用户流畅的完成对需求分析结果的确认

需求分析
产出物：需求矩阵
特点：
支持用户调整需求矩阵的内容
为确保AI能够提取有效的需求信息及准确的测试用例，将需求分析的结果开放给用户进行审校校以便于用户引导或改变AI模型在此时可以优化需求矩阵的分析和准确性。
测试分析
产出物：功能点-》测试项：
特点：
节点环节更加简洁了：“需求项→测试项→测试点”
将原有的节点环节“需求项→功能点→测试项→测试点”简化为“需求项→测试项→测试点”，提高了AI生成的准确性和提供能力的“单项完成”模式的适配度和范围。
测试设计
产出物：测试点
用例设计
产出物：归档用例
特点：
支持一键归档用例
优化之前“平台导出本地格式转换→平台导入”，这种繁琐的操作方式，在平台完成操作闭环。

场景和业务流：
场景1：全量生成测试设计
角色： 测试工程师
目标： 作为测试工程师能够部分替换测试生成内容，整套测试设计的生成质量。
流程：
开始-》创建测试设计-》（需求分析）AI生成需求要素-》（测试分析）-》AI全量生成测试设计
-》（测试设计）AI全量生成测试点-》完成
场景2：增量生成测试设计
角色： 测试工程师
用户故事：作为测试工程师能够对已拆解的测试设计内容进行场景补全，以便于确保测试全面而细致。
流程：
开始-》创建测试设计-》上传XMind（测试设计）-》AI增量生成测试点=》完成

通过分阶段展示测试分析过程，使用户能够逐步审阅输出内容，并允许用户合并查看各阶段的输出结果。
1）、需求分析阶段：输出物为明确的需求项。（注：a.关联多需求生成一份测试需求; b.子需求标题改为需求项，原需求矩阵改为测试需求，相关需求列去掉）
2）、测试分析阶段：输出物为具体的测试项。（注：原有功能点移除）
3）、测试设计阶段：输出物为详细的测试点。
4）、各阶段均允许用户上传XMind文件，并依托AI技术生成对应的输出物。上传文件的叶子节点将被视为当前阶段的输出物类型，并进一步由AI进行广度与深度生成。
5）、支持用户查看测试设计的整体生成内容，涵盖各阶段的输出物。
6）、
当用户上传一份仅完成50%的测试设计方案时，系统无法在单个节点上提供选择续写的功能（如生成测试项或测试点）
测试需求的需求项是否要和后续的测试项有关联---无结论
、【AI生成需求项】只从需求内容获取，例如aES产线的xmind文件则作为下一环节（测试分析）的输入之一； 2、测试分析环节和测试设计环节分别有1份Xmind内容；正向操作时（从测试分析环节点击AI生成测试点），XMind结构可同步显示在测试设计环节；逆向操作时（在测试设计环节上传XMind）,则上传的XMind结构、内容不显示测试分析环节； 3、AI生成测试项时，不生成测试因子、因子取值。当AI生成测试点时，需要对测试项补充测试因子、因子取值。补充内容显示在“备注”内； 4、支持单个节点的AI生成测试项、测试点功能；
1个测试设计只能存在1个进行中的Ai生成任务。 2、只有测试设计阶段支持AI增量生成功能，其他阶段不支持AI增量生成功能。 3、全量生成测试点需要获取需求项列表内容+测试项内容（两项数据均不能为空） 4、增量生成测试点需要获取需求项列表内容+上传数据（若需求项内容为空，则后台自动生成1份需求项。不回显至需求项列表，仅用于本次增量生成测试点）

1.列表测试设计-AI生成状态
 测试设计列表 新增 AI生成状态 列，方便用户查看和筛选。（在右上角的筛选按钮中，特别增加“AI生成状态”筛选选项）
 此处展示的是当前测试设计的 AI生成任务 的状态；
 AI生成状态的选项有“排队中、进行中、已中止、成功、失败”5个；
 [排队中]：当AI测试设计请求正在等待处理，且当前无生成资源可用时，状态显示为“排队中”。
 [进行中]：若测试设计正在生成过程中，状态显示为“进行中”。
 [已中止]：用户可随时点击“中止”按钮停止正在生成的测试设计，此时状态更新为“已中止”。
 [成功]：一旦测试设计成功生成，状态变为“成功”，表示AI生成任务顺利完成。
 [失败]：：若测试设计在生成过程中遇到问题导致任务失败，状态将为“失败”，并显示失败的具体原因。
 注意：每个测试设计同时只允许有一个AI生成任务正在进行。（当测试设计的AI生成状态在终态时，可以发起下一次Ai生成任务）
关于历史数据：AI生成状态默认显示“-”，所属阶段默认显示“-”；
总结：测试设计无历史AI生成任务时，AI生成状态默认显示“-”，所属阶段默认显示“-”；
右上角筛选按钮表格新增AI生成状态和所属阶段
2.列表测试设计-所属阶段
 测试设计列表 新增 所属阶段 列，方便用户查看AI生成任务是哪个阶段的。
 所属阶段的选项有“需求分析、测试分析、测试设计”3个；
 显示最近一次AI生成任务所在的阶段；
3.列表测试设计-测试设计名称
 记录当前登录用户上次从详情页退出所选中的tab；
 用户下次点击进入测试设计详情默认选中上次退出时所选中的tab。
 与单个测试设计选择无关，只记录详情页最近一次的选中，下次用户点击进入详情（无论哪个测试设计的详情）都默认选中上次记录；
进入测试设计详情时，系统会记住上次退出时选中的标签页，下次进入自动显示该标签页。（每个测试设计的选中位置单独记录）。
4.创建测试设计-测试设计名称
 去掉默认名称默认填充规则；改为用户自行填入。
 原字段的校验规则保持不变。（字段不能为空，最大字符255）
注意：关联需求的规则不发生变化，支持多选需求；
5.创建测试设计-操作-确定按钮
 点击确定按钮，则校验字段必填。
 校验失败，必填报错提示如上图所示。
 校验通过，则关闭弹窗。创建1条测试设计并进入测试设计详情 > 需求分析tab；此时测试设计的AI生成状态是“进行中”，所属阶段是“需求分析”。

 注意：选择单条需求或选择多条需求，在需求分析环节都将汇总分析并产出1份测试需求（需求项列表）；
6.详情-需求分析-详情_导航+tab
 有“返回icon、测试设计名称、编辑icon、AI生成状态、需求分析tab、测试分析tab、测试设计tab、隐藏/显示测试设计使用流程”8个；
 [返回icon]：点击后，系统将检查测试分析和设计内容是否已保存。如果内容已保存，将返回到测试设计列表页面；如果内容未保存，将弹出一个
                      提示框要求用户确认是否保存。
 [测试设计名称]：展示当前测试设计的标题。如果名称超过280px长度，将显示为"…"。用户将鼠标悬停在名称上时，将显示完整名称。
 [编辑icon]：点击则显示编辑测试名称弹窗（允许编辑当前测试设计的名称）；
 [AI生成状态]：展示当前测试的AI生成状态。鼠标悬停显示“XX阶段｜当前AI生成状态”。
 [需求分析/测试分析/测试设计]Tab：用户可以通过点击在不同标签页之间切换，每个标签页将展示对应的内容。
 [隐藏/显示测试设计使用流程]：有2个选项。与下方步骤分析图片存在联动关系；
                               当下方显示"步骤分析图片"，则上方操作入口显示"隐藏测试设计使用流程"；
                               当下方不显示"步骤分析图片"，则上方操作入口显示"显示测试设计使用流程"；
7.详情-需求分析-步骤分析图片
 图片展示规则：在详情页的每个Tab中，默认显示此图片。图片的右上角，带有“关闭图标”。
 点击该图标可隐藏当前图片。一旦图片隐藏，下方按钮和列表将自动适应新的高度。
 全局应用：      图片的显示与隐藏功能将适用于当前登录用户在所有详情页的3个Tab中。（一旦隐藏图片，当前用户打开所有测试设计的详情页都不可见此图片。同理，显示则当前用户打开所有详情页都显示此图片）
8.详情-需求分析-测试需求_操作栏
 操作栏有“测试需求标题、数量统计、AI生成需求项按钮、新增需求项按钮、提示文案、搜索框”6部分；
 [测试需求标题]：始终展示固定文本“测试需求”。
 [数量统计]：实时展示当前需求项的数量。
 [AI生成需求项]按钮：高亮状态：AI生成状态=终态（成功、失败、已中止），按钮高亮以示可用                              禁用状态：属于其他阶段的AI生成状态=过程态（排队中、进行中），按钮禁止点击（若当前阶段的AI生成状态=过程态，那此刻应显示停止生成按钮）
 点击确定则提示操作成功，并重新发起AI生成测试需求任务，当前页面进入生成中效果（按钮切换为停止生成）；
 点击取消则关闭气泡确认框，操作不生效！
 [新增需求项]按钮：高亮状态：需求项生成完成，按钮高亮以示可用。
              禁用状态：：AI生成状态=过程态（排队中、进行中），按钮禁止点击
[提示文案]：高亮状态：AI生成状态=终态（成功、失败、已中止），按钮高亮以示可用。（需求项列表有数据，点击出现气泡框；需求项列表无数据，点击出现报错提示）
     禁用状态：测试设计有正在进行中的AI生成任务，置灰提示文案。
 [搜索框]：支持输入关键字检索需求项内容。
【AI生成测试分析】：当需求项列表有数据，点击出现气泡框。当需求项列表无数据，点击出现右上角报错提示。 点击确定则提示操作成功，发起AI生成测试项任务，跳转测试分析tab，页面内容进入生成中效果；
 点击取消则关闭气泡确认框，操作不生效！
9.详情-需求分析-测试需求-编辑，新增需求向
新增需求向
1.字段
 有“需求项名称、需求描述”2个字段；
 [需求项名称]：必填，多行文本；无输入最大字符限制；输入框高度100px，当输入内容超过
                          输入框高度出现滚动条； 小i内容如下图所示：
 [需求描述]：必填，多行文本；无输入最大字符限制；输入框高度400px，当输入内容超过
                          输入框高度出现滚动条；小i内容如下图所示
2.操作栏-按钮
 有“创建、取消”2个按钮；
 点击[创建]按钮，则校验字段必填。校验通过，则提示操作成功并关闭弹窗。新增一条需求项
      显示在需求项列表的最上方；校验失败，则字段标红并显示即时提示；
 点击[取消]按钮，则关闭弹窗，操作不生效；
编辑需求向
弹窗内_字段
 字段“需求项名称、需求项描述”默认显示当前行内容；
 支持修改删除。字段必填校验规则同创建需求项一致；
操作栏_按钮
 点击确定按钮，则校验字段必填。校验通过，则提示操作成功并关闭弹窗。更新当前需求项内容；
 点击取消按钮，则关闭弹窗，操作不生效。

10.详情-需求分析-测试需求_列表
 列表有“序号、需求项、需求描述、操作”4列；
 [序号]：
 [需求项]：显示需求项名称。内容全部展示，根据内容自适应行高。
 [需求描述]：显示需求描述。内容全部展示，根据内容自适应行高。
 [操作]：有“编辑、删除”2个操作按钮；
 点击编辑则出现编辑弹窗；
 点击删除则出现二次确认删除气泡框；
 点击确定按钮，则关闭气泡框，并删除该条需求项；
 点击取消按钮，则关闭气泡框，操作不生效。
 排序规则：按照创建时间倒序排列，最近创建的在最上方；
 列表支持分页；

